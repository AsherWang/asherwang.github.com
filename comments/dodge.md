目前游戏已经做出来了并且还在做，[快去瞅瞅](/apps/dodge/)    

----

　　挺久之前就想玩玩儿Egret这个引擎了，终于到今天应一个朋友的想法，开始尝试折腾点什么出来，熟悉下引擎练练手还是可以的。不过在开始之前还是稍微想想，大概设计一下。  
<br><br>
`day 1`  
#### 游戏描述  
　　这个游戏应该属于闪避类，总的来说就是玩家控制一个小物体闪避障碍物，移速越来越快，到死亡结束。顺便说一句做横屏的吧，嗯个人倾向。    
> 前期计划：  
> - 游戏逻辑：100  
> - 游戏美工：0  
> - 游戏音效：0  


　　然后等游戏可以完整地跑下来的时候再把其他的补一补，嗯所以在实现游戏逻辑的时候要稍微考虑下之后的补充，避免出现大面积的改动。

#### 大概设计  
　　游戏场景分资源载入，游戏开始，游戏进行，游戏结算五个场景。其中资源载入部分引擎会帮助处理，并且前期不考虑自定义载入资源的界面，所以需要考虑的就三个场景。  
- 游戏开始  
　　此场景只有一个游戏标题和一个开始按钮，点击就可以开始游戏进入第二个场景，哦另外还应该有一个查看统计数据的按钮。　　
- 游戏进行  
　　这部分算是难度比重最大的，玩家控制一只满血飞宠飞啊飞啊飞到死游戏结束进入下一场景。  
    - 游戏控制：上下控制飞宠移动（将来考虑冲刺，诶你有没有玩儿过爱丽丝快跑，对就是那个）  
    - 游戏障碍：一种或多种，碰到伤血  
    - 游戏道具：一种或多种，至少一个是加血  
    - 游戏速度：分lv1-lv10，每跑一段距离进入下个level  
    - 游戏结束：血量为0游戏结束  
- 游戏结算  
　　本次成绩，历史成绩，总里程（可以考虑写入浏览器缓存）。临时想到的加入一些更细致的计数，被撞了多少次，吃道具多少次等等。所以还需要在游戏开始页加一个查看统计数据的入口，我去改改。  

#### 一些比较重要的设计  

- 类继承，障碍、道具、飞宠可以继承自同一个父类  
- 控制资源占用，需要构建障碍/道具池  
- 大概就这这些了，其他的边做边想边看  

做之前想到的就这么多，开工开工。
<br><br><br>
分割线开始  

-----

分割线结束  
<br><br><br>
`day 7`   

过了差不多一星期，期间怠工了两三天，不过起码游戏的样子是出来了。  
游戏源码地址：[https://github.com/AsherWang/dodge](https://github.com/AsherWang/dodge)  
#### 游戏初步实现  
根据之前写的大概设计来看进度的话   
- 游戏开始场景算是完成了，不过需要改进的地方有载入界面，这个感觉可以整合到开始场景里边，等游戏差不多要做完了再考虑吧。  
- 游戏进行部分  
    - 游戏控制我选了键盘控制，并为此专门写了一个类dodge.KeyboardController,用这个类捕获键盘事件，这样之后如果想用触摸控制就搞一个类似的类出来，应该算比较好扩展了。  
    - 游戏障碍、游戏道具以及玩家控制的那个小飞宠，在设计的时候我为他们设计了共同的父类dodge.GameObject，因为都可能在地图中有动画并且会位移。关于障碍，我上网扒了一些图片资源下来（仅仅是学习使用应该没关系吧）。碰到小鹿(障碍)、毒泡泡会掉血，碰到红水晶会回血。每帧依据矩形相交的原理来检测碰撞。    
    - 游戏速度目前是恒定速度，还没做加速部分。  
    - 血量到0结束游戏并转到游戏结算部分，这部分有些粗暴不过倒也算完成了。  
- 游戏结算部分，计分板还没填数据，为了这部分我建了一个类叫做dodge.Recorder。主要原因是伤害结算哪里我有点不清楚怎么设计，因为好像伤害本身应该也算是一个类，于是对应的伤害又需要分属性啥的，然后想到了属性克制....嗯，想太多，我还是先从直接伤害开始吧...。搞了一个dodge.Harm类出来，如果将来做技能啥的，就从这里派生吧。  

> __转折部分__  
> 　　跟之前那个小伙伴聊了一下，感觉他说的很有道理，所以我还是先改变一下重心。一个躲避类的小游戏搞什么属性伤害，搞什么技能，不如专心研究关卡生成。然后我看了看我写的，发现那个动不动就挥剑的人物果然是自己仅仅为了好玩儿加进去的啊，忍痛去掉....   
